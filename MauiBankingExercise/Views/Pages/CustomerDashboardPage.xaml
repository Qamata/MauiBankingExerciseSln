<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:controls="clr-namespace:MauiBankingExercise.Views.Controls"
             x:Class="MauiBankingExercise.Views.Pages.CustomerDashboardPage"
             Title="Customer Dashboard">

    <Grid RowDefinitions="Auto,Auto,*,Auto" Padding="16">
        <!-- Welcome Header -->
        <StackLayout Grid.Row="0" Margin="0,0,0,20">
            <Label Text="{Binding Customer.FirstName, StringFormat='Welcome, {0}!'}" 
                   FontSize="24" 
                   FontAttributes="Bold"
                   TextColor="{AppThemeBinding Light=Black, Dark=White}" />
            <Label Text="Your Accounts" 
                   FontSize="16" 
                   TextColor="{AppThemeBinding Light=#666666, Dark=#CCCCCC}" />
        </StackLayout>

        <!-- Balance Summary (if you have a BalanceCard control) -->
        <controls:BalanceCard Grid.Row="1" 
                              Balance="{Binding TotalBalance}"
                              Margin="0,0,0,16" />

        <!-- Accounts List -->
        <CollectionView Grid.Row="2"
                       ItemsSource="{Binding Accounts}"
                       SelectionMode="Single"
                       SelectedItem="{Binding SelectedAccount}">
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <controls:AccountCard Account="{Binding}" />
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>

        <!-- Loading Indicator -->
        <ActivityIndicator Grid.Row="2" 
                          IsVisible="{Binding IsBusy}" 
                          IsRunning="{Binding IsBusy}"
                          Color="{AppThemeBinding Light=#1976D2, Dark=#64B5F6}"
                          HorizontalOptions="Center"
                          VerticalOptions="Center" />

        <!-- Action Buttons -->
        <StackLayout Grid.Row="3" Orientation="Horizontal" HorizontalOptions="Center" Spacing="20">
            <Button Text="View Transactions" 
                    Command="{Binding ViewTransactionsCommand}"
                    IsEnabled="{Binding HasSelectedAccount}" />
            <Button Text="Make Transaction" 
                    Command="{Binding MakeTransactionCommand}"
                    IsEnabled="{Binding HasSelectedAccount}" />
        </StackLayout>
    </Grid>
</ContentPage>