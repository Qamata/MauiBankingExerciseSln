<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="MauiBankingExercise.Views.Pages.TransactionPage"
             Title="Make Transaction">

    <ScrollView Padding="20">
        <StackLayout Spacing="20">
            <!-- Account Info -->
            <Frame BackgroundColor="{AppThemeBinding Light=#F5F5F5, Dark=#2D2D30}"
                   CornerRadius="10"
                   Padding="15">
                <StackLayout>
                    <Label Text="Account Details" 
                           FontAttributes="Bold"
                           FontSize="16" />
                    <Label Text="{Binding Account.AccountNumber}"
                           FontSize="14" />
                    <Label Text="{Binding Account.AccountType.Name}"
                           FontSize="14" />
                    <Label Text="{Binding Account.AccountBalance, StringFormat='Balance: {0:C}'}"
                           FontSize="14"
                           FontAttributes="Bold" />
                </StackLayout>
            </Frame>

            <!-- Transaction Form -->
            <Frame BackgroundColor="{AppThemeBinding Light=#F5F5F5, Dark=#2D2D30}"
                   CornerRadius="10"
                   Padding="15">
                <StackLayout Spacing="15">
                    <Label Text="Transaction Details" 
                           FontAttributes="Bold"
                           FontSize="16" />

                    <!-- Transaction Type -->
                    <VerticalStackLayout>
                        <Label Text="Transaction Type"
                               FontSize="14" />
                        <Picker Title="Select Transaction Type"
                                ItemsSource="{Binding TransactionTypes}"
                                ItemDisplayBinding="{Binding Name}"
                                SelectedItem="{Binding SelectedTransactionType}" />
                    </VerticalStackLayout>

                    <!-- Amount -->
                    <VerticalStackLayout>
                        <Label Text="Amount"
                               FontSize="14" />
                        <Entry Keyboard="Numeric"
                               Placeholder="Enter amount"
                               Text="{Binding Amount}" />
                    </VerticalStackLayout>

                    <!-- Description -->
                    <VerticalStackLayout>
                        <Label Text="Description"
                               FontSize="14" />
                        <Entry Placeholder="Enter description"
                               Text="{Binding Description}" />
                    </VerticalStackLayout>

                    <!-- Submit Button -->
                    <Button Text="Submit Transaction"
                            Command="{Binding SubmitTransactionCommand}"
                            IsEnabled="{Binding IsBusy, Converter={StaticResource InverseBoolConverter}}"
                            BackgroundColor="{AppThemeBinding Light=#1976D2, Dark=#2196F3}"
                            TextColor="White" />
                </StackLayout>
            </Frame>

            <!-- Loading Indicator -->
            <ActivityIndicator IsVisible="{Binding IsBusy}"
                              IsRunning="{Binding IsBusy}"
                              Color="{AppThemeBinding Light=#1976D2, Dark=#64B5F6}"
                              HorizontalOptions="Center" />
        </StackLayout>
    </ScrollView>
</ContentPage>