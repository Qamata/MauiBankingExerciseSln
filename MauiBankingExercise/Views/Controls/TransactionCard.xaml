<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="MauiBankingExercise.Views.Controls.TransactionCard"
             x:Name="TransactionCardView">

    <Border BackgroundColor="{AppThemeBinding Light=White, Dark=#2D2D30}"
            Stroke="{AppThemeBinding Light=#E0E0E0, Dark=#404040}"
            StrokeThickness="1"
            Padding="16"
            Margin="8,4">
        <Border.StrokeShape>
            <RoundRectangle CornerRadius="8" />
        </Border.StrokeShape>

        <Grid ColumnDefinitions="Auto,*,Auto" RowDefinitions="Auto,Auto">
            <!-- Transaction Icon -->
            <Border Grid.Row="0" Grid.RowSpan="2" Grid.Column="0" 
                    BackgroundColor="{Binding Source={x:Reference TransactionCard}, Path=IconBackgroundColor}"
                    HeightRequest="40" 
                    WidthRequest="40"
                    Margin="0,0,12,0">
                <Border.StrokeShape>
                    <RoundRectangle CornerRadius="20" />
                </Border.StrokeShape>
                <Label Text="{Binding Source={x:Reference TransactionCard}, Path=TransactionIcon}" 
                       FontSize="18" 
                       TextColor="White"
                       HorizontalOptions="Center" 
                       VerticalOptions="Center" />
            </Border>

            <!-- Transaction Details -->
            <Label Grid.Row="0" Grid.Column="1"
                   Text="{Binding Source={x:Reference TransactionCard}, Path=Transaction.TransactionTypeName}" 
                   FontSize="16" 
                   FontAttributes="Bold"
                   TextColor="{AppThemeBinding Light=Black, Dark=White}" />

            <Label Grid.Row="1" Grid.Column="1"
                   Text="{Binding Source={x:Reference TransactionCard}, Path=Transaction.Description}" 
                   FontSize="14" 
                   TextColor="{AppThemeBinding Light=#666666, Dark=#CCCCCC}"
                   LineBreakMode="TailTruncation" />

            <!-- Amount and Date -->
            <StackLayout Grid.Row="0" Grid.RowSpan="2" Grid.Column="2" 
                         VerticalOptions="Center"
                         HorizontalOptions="End">
                <Label Text="{Binding Source={x:Reference TransactionCard}, Path=Transaction.FormattedAmount}" 
                       FontSize="16" 
                       FontAttributes="Bold"
                       TextColor="{Binding Source={x:Reference TransactionCard}, Path=AmountTextColor}"
                       HorizontalTextAlignment="End" />
                <Label Text="{Binding Source={x:Reference TransactionCard}, Path=Transaction.FormattedDate}" 
                       FontSize="12" 
                       TextColor="{AppThemeBinding Light=#666666, Dark=#CCCCCC}"
                       HorizontalTextAlignment="End" />
            </StackLayout>
        </Grid>
    </Border>
</ContentView>